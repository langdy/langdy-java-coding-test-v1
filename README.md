# 랭디 서버 개발자 코딩 테스트
### 개요
1. Spring boot로 서버를 구축하고, 아래 [작업]의 내용들을 참고하여 랭디 수업 신청 기능을 구현해주세요.
2. rails를 기반으로 작성된 코딩 테스트 문서이므로, 일부 `용어`, `네이밍 컨벤션`, `코드 예시`가 spring에 맞지 않을 수 있는 점 양해부탁드립니다. 가장 유사하다고 생각되는 spring 기반의 개념에 대입하여 테스트를 수행해주세요.
3. 각 작업에 명시된 요구 조건들은 포함하여 구현하되, 명시된 조건이 없는 모든 코드는 주석으로만 작성해도 무관합니다.
4. 코딩 테스트와 관련된 문의사항은 언제든 편하게 문의해주세요.

### 과제 결과물 제출 방법
1. github repository를 생성하여 코딩 과제 수행 후 결과물을 링크로 전달해주세요.
2. 결과물 리뷰의 용이성을 위해서 커밋 이력을 깔끔하게 정돈해주시고, main 브랜치가 아닌 작업 브랜치를 분리하여 작업한 뒤 main 브랜치로 PR을 생성해주세요.

### 작업
- 공통
  - 필요한 model은 lesson, teacher, student입니다.
    - Essential properties
    - `student`(학습자): id, name, os(IOS, ANDROID) 
    - `teacher`(선생님): id, name 
    - `lesson`: id, courseId, teacherId, studentId, status, startAt, endAt
      - `courseId`는 직접 연관관계를 구현하실 필요는 없습니다.  
  - `student`가 하나의 `course`와 `teacher`를 선택하여 `lesson`을 등록합니다.
  - 이외의 class는 작업자 판단에 따라 필요 시 생성해주세요.

- task 1
  - 요청에 대해 차단 ip 체크를 하는 기능을 구현해주세요. (Security filter)
  - 차단하기를 원하는 ip는 REDIS에 저장되어있습니다.
    - KEY SCHEME: BLOCKED_IP::${IP}

- task 2
  - 수업 신청을 하는 기능을 `LessonController`에 구현해주세요.
    - 인가된 사용자(학습자)의 요청 시 처리해주세요.
    - 요청 시 `startAt`, `courseId`, `teacherId` 값은 필수입니다.
  - `lesson` 생성 전 선생님과 학습자가 각각 수업이 가능한 시간인지 체크해야 합니다. 
    - 선생님과 학습자는 동일한 시간에 하나의 `lesson`만 가능합니다.
    - 요청된 `startAt` 통해 각 수업 신청이 가능한 상태인지 확인해주세요.
  - 유효성 검사에서 문제가 없다면 `lesson`을 생성해주세요.
  - 위 요구사항들을 충족시키지 못하는 오류가 발생할 수 있다고 가정하고, 오류에 대응하는 코드를 작성해주세요. 단순 로그를 남길 지, 어떠한 형태로 return을 할 지는 자유롭게 작성해주세요.
 
- task 3
  - 수업 취소를 하는 기능을 `LessonController`에 구현해주세요.
  - 수업 취소 시 데이터를 삭제하지 말고 상태 관리 방식으로 구현해주세요.
  - 수업 취소 전 유효성 검사가 필요합니다. 
    - 이미 취소된 강의는 아닌지 확인해주세요.
    - 현재 시점이 수업 시작 12시간 이내인 경우에는 취소할 수 없습니다.
  - 유효성 검사에서 문제가 없다면 `lesson`을 취소 처리 해주세요.
  - 위 요구사항들을 충족시키지 못하는 오류가 발생할 수 있다고 가정하고, 오류에 대응하는 코드를 작성해주세요. 단순 로그를 남길 지, 어떠한 형태로 return을 할 지는 자유롭게 작성해주세요.

- task4
  - 수업 생성 후 선생님에게 수업이 신청되었음을 알리는 이메일을 동기로 전송하는 기능을 구현해주세요.
    - `sendEmail()`로 작성하시면 됩니다.
    - 상세한 내부 구현은 없어도 됩니다.

- task5
  - 수업 생성 후 학생에게 수업이 신청되었음을 알리는 앱 푸시메시지를 비동기로 전송하는 기능을 구현해주세요.
    - 푸시메시지 전송은 POST `http://exmaple.com/api/push`에 요청합니다.
    - 요청 메시지는 정의하시지 않으셔도 됩니다.
    - 해당 요청에 대한 응답은 5초로 가정합니다.
    - 응답에 대한 오류처리만 해주시면 됩니다.
    - 상세한 내부 구현은 없어도 됩니다.
